(this["webpackJsonpflight-saver-g"]=this["webpackJsonpflight-saver-g"]||[]).push([[0],{70:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),i=n.n(c),s=n(37),l=n(38),o=n(11),u=n(53),d=n(52),b=n(54),h=n(34),j=n(103),g=n(91),f=n(106),m=n(101),p=n(94),y=n(98),x=n(102),v=n(99),O=n(95),S=n(108),k=n(107),C=n(96),w=n(97),z=n(105),U=n(100),D=n(3),F={global:{colors:{brand:"#00739D",focus:"#00739D"},font:{family:"Roboto",size:"18px",height:"20px"}}},P={originplace:"",destinationplace:"",inbound:"",outbound:""},N=function(e){return Object(D.jsx)(h.a,Object(b.a)({tag:"header",direction:"row",align:"center",justify:"between",background:"brand",pad:{left:"medium",right:"small",vertical:"small"},elevation:"medium",style:{zIndex:"1"}},e))},T={},L=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={showSidebar:!1,value:P,flights:[],originVal:"",currency:"USD",currencyFormLabel:"Select Currency (USD)",currencySymbol:"$",airportNames:[],currencyArr:[],value2:{currency:""}},a.create=a.create.bind(Object(o.a)(a)),a.createSuggestions=a.createSuggestions.bind(Object(o.a)(a)),a.createCurrency=a.createCurrency.bind(Object(o.a)(a)),a.suggestCurrency=a.suggestCurrency.bind(Object(o.a)(a)),a.createCurrency(),a}return Object(l.a)(n,[{key:"create",value:function(e){var t=this,n=e.value.originplace.substr(e.value.originplace.indexOf("(")+1,e.value.originplace.indexOf(")")),a=e.value.destinationplace.substr(e.value.destinationplace.indexOf("(")+1,e.value.destinationplace.indexOf(")")),r=e.value.outbound.substr(0,e.value.outbound.indexOf("T")),c="/"+e.value.inbound.substr(0,e.value.outbound.indexOf("T"));fetch("https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/browseroutes/v1.0/US/".concat(this.state.currency,"/en-US/").concat(n,"/").concat(a,"/").concat(r).concat(c),{method:"GET",headers:{"x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com","x-rapidapi-key":"ed870dc8bcmsheb9498735096d60p1ac767jsn0505c11878f0"}}).then((function(e){return e.json()})).then((function(e){console.log(e);for(var n=[],a=0;a<e.Carriers.length;a++){var r={carrier:"",price:""};r.carrier=e.Carriers[a].Name,r.price=e.Quotes[a].MinPrice,r.name=e.Places[0].Name,r.symbol=e.Places[0].IataCode,n.push(r)}t.setState({flights:n})})).catch((function(e){console.log(e)}))}},{key:"createSuggestions",value:function(e){var t=this;fetch("https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/autosuggest/v1.0/US/USD/en-US/?query=".concat(e),{method:"GET",headers:{"x-rapidapi-key":"2cb41ceb4bmsh64790deead62888p18e177jsn0e5c901f9ff5","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com",useQueryString:!0}}).then((function(e){return e.json()})).then((function(e){for(var n=[],a=e.Places,r=0;r<a.length;r++)n[r]=a[r].PlaceName+" ("+a[r].PlaceId+")";t.setState({airportNames:n})})).catch((function(e){console.log(e)}))}},{key:"createCurrency",value:function(){fetch("https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/reference/v1.0/currencies",{method:"GET",headers:{"x-rapidapi-key":"2cb41ceb4bmsh64790deead62888p18e177jsn0e5c901f9ff5","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com"}}).then((function(e){return e.json()})).then((function(e){T=e.Currencies})).catch((function(e){console.error(e)}))}},{key:"suggestCurrency",value:function(e){for(var t=[],n=0;n<T.length;n++){var a=T[n];if(a.Code.includes(e.toUpperCase())&&t.push(a.Code),t.length>8)break}console.log(t),this.setState({currencyArr:t})}},{key:"render",value:function(){var e=this;return Object(D.jsx)(j.a,{theme:F,full:!0,children:Object(D.jsx)(g.a.Consumer,{children:function(t){return Object(D.jsxs)(h.a,{fill:!0,children:[Object(D.jsxs)(N,{children:[Object(D.jsx)(f.a,{level:"3",margin:"none",children:"Flight-Saver"}),Object(D.jsx)(m.a,{color:"light-1",label:e.state.currency,onClick:function(){e.setState({showSidebar:!e.state.showSidebar})}})]}),Object(D.jsxs)(h.a,{direction:"row",alignSelf:"center",flex:!0,overflow:{horizontal:"hidden"},children:[Object(D.jsx)(h.a,{alignSelf:"start",justify:"center",direction:"row",margin:"medium",children:Object(D.jsxs)(h.a,{direction:"column",justify:"stretch",children:[Object(D.jsx)(p.a,{value:e.state.value,onChange:function(t){e.state.originVal!==t.originplace?e.createSuggestions(t.originplace):e.createSuggestions(t.destinationplace),e.setState({value:t,originVal:t.originplace})},onReset:function(t){e.setState({value:P})},onSubmit:function(t){e.create(t)},children:Object(D.jsxs)(h.a,{direction:"row",gap:"medium",children:[Object(D.jsx)(y.a,{label:"Leaving from",name:"originplace",required:!0,children:Object(D.jsx)(x.a,{name:"originplace",suggestions:e.state.airportNames})}),Object(D.jsx)(y.a,{label:"Going to",name:"destinationplace",required:!0,children:Object(D.jsx)(x.a,{name:"destinationplace",suggestions:e.state.airportNames})}),Object(D.jsx)(y.a,{name:"outbound",label:"Departing",required:!0,children:Object(D.jsx)(v.a,{format:"mm/dd/yyyy",label:"Departing",name:"outbound"})}),Object(D.jsx)(y.a,{name:"inbound",label:"Returning",children:Object(D.jsx)(v.a,{format:"mm/dd/yyyy",label:"Returning",name:"inbound"})}),Object(D.jsxs)(h.a,{alignSelf:"center",children:[Object(D.jsx)(m.a,{type:"submit",label:"Search",primary:!0,margin:"xsmall"}),Object(D.jsx)(m.a,{type:"reset",label:"Reset",margin:"xsmall"})]})]})}),e.state.flights.map((function(t){return Object(D.jsx)(h.a,{justify:"center",direction:"row",margin:"small",children:Object(D.jsxs)(O.a,{height:"xsmall",fill:"horizontal",basis:"2/3",background:"light-1",pad:"small",children:[Object(D.jsxs)(S.a,{fill:"horizontal",children:[Object(D.jsx)(k.a,{size:"xlarge",color:"neutral-3",children:t.carrier}),Object(D.jsxs)(k.a,{size:"2xl",weight:"bold",children:[e.state.currencySymbol,t.price]})]}),Object(D.jsx)(C.a,{children:Object(D.jsxs)(k.a,{weight:"bold",size:"small",children:[t.name," (",t.symbol,")"]})})]})})}))]})}),e.state.showSidebar&&"small"===t?Object(D.jsxs)(z.a,{children:[Object(D.jsx)(h.a,{background:"light-2",tag:"header",justify:"end",align:"center",direction:"row",children:Object(D.jsx)(m.a,{icon:Object(D.jsx)(U.a,{}),onClick:function(){return e.setState({showSidebar:!1})}})}),Object(D.jsx)(h.a,{fill:!0,background:"light-2",align:"center",justify:"center",children:"sidebar"})]}):Object(D.jsx)(w.a,{direction:"horizontal",open:e.state.showSidebar,children:Object(D.jsx)(h.a,{flex:!0,width:"medium",background:"light-2",elevation:"small",align:"center",justify:"center",direction:"column",children:Object(D.jsxs)(p.a,{value:e.state.value2,onChange:function(t){e.suggestCurrency(t.currency),e.setState({value2:t})},onSubmit:function(t){var n=T.find((function(e){return e.Code===t.value.currency.toUpperCase()})),a="Select Currency ("+n.Code+")";e.setState({value2:{currency:""},currency:n.Code,currencySymbol:n.Symbol,currencyFormLabel:a,showSidebar:!1})},children:[Object(D.jsx)(y.a,{label:e.state.currencyFormLabel,name:"currency",required:!0,children:Object(D.jsx)(x.a,{name:"currency",suggestions:e.state.currencyArr})}),Object(D.jsx)(h.a,{alignSelf:"center",children:Object(D.jsx)(m.a,{type:"submit",label:"Enter",primary:!0,margin:"xsmall"})})]})})})]})]})}})})}}]),n}(r.a.Component),q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,109)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(D.jsx)(r.a.StrictMode,{children:Object(D.jsx)(L,{})}),document.getElementById("root")),q()}},[[70,1,2]]]);
//# sourceMappingURL=main.5b1cad15.chunk.js.map