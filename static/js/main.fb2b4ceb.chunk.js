(this["webpackJsonpflight-saver-g"]=this["webpackJsonpflight-saver-g"]||[]).push([[0],{71:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(14),i=n.n(c),s=n(38),o=n(39),l=n(12),u=n(54),d=n(53),b=n(55),h=n(17),g=n(105),j=n(92),f=n(109),m=n(104),p=n(95),y=n(102),x=n(107),O=n(103),v=n(96),S=n(97),C=n(111),k=n(110),w=n(98),I=n(100),N=n(108),P=n(99),z=n(101),D=n(3),L={global:{colors:{brand:"#00739D",focus:"#00739D"},font:{family:"Roboto",size:"18px",height:"20px"}}},U={originplace:"",destinationplace:"",inbound:"",outbound:""},F=function(e){return Object(D.jsx)(h.a,Object(b.a)({tag:"header",direction:"row",align:"center",justify:"between",background:"brand",pad:{left:"medium",right:"small",vertical:"small"},elevation:"medium",style:{zIndex:"1"}},e))},T={},Q=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).state={showSidebar:!1,value:U,flights:[],originVal:"",currency:"USD",currencyFormLabel:"Select Currency (USD)",currencySymbol:"$",airportNames:[],currencyArr:[],value2:{currency:""}},r.create=r.create.bind(Object(l.a)(r)),r.createSuggestions=r.createSuggestions.bind(Object(l.a)(r)),r.createCurrency=r.createCurrency.bind(Object(l.a)(r)),r.suggestCurrency=r.suggestCurrency.bind(Object(l.a)(r)),r.createCurrency(),r}return Object(o.a)(n,[{key:"create",value:function(e,t){var n=this,r=e.originplace.substr(e.originplace.indexOf("(")+1,e.originplace.indexOf(")")),a=e.destinationplace.substr(e.destinationplace.indexOf("(")+1,e.destinationplace.indexOf(")")),c=e.outbound.substr(0,e.outbound.indexOf("T")),i="/"+e.inbound.substr(0,e.outbound.indexOf("T"));fetch("https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/browseroutes/v1.0/US/".concat(t,"/en-US/").concat(r,"/").concat(a,"/").concat(c).concat(i),{method:"GET",headers:{"x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com","x-rapidapi-key":"ed870dc8bcmsheb9498735096d60p1ac767jsn0505c11878f0"}}).then((function(e){return e.json()})).then((function(e){console.log(e);for(var t=[],r=0;r<e.Quotes.length;r++){var a={carrier:"",price:""},c=e.Carriers.find((function(t){return t.CarrierId===e.Quotes[r].OutboundLeg.CarrierIds[0]})),i=e.Places.find((function(t){return t.PlaceId===e.Quotes[r].OutboundLeg.OriginId})),s=e.Places.find((function(t){return t.PlaceId===e.Quotes[r].OutboundLeg.DestinationId}));a.carrier=c.Name,a.price=e.Quotes[r].MinPrice,a.originName=i.Name,a.originSymbol=i.IataCode,a.destinationSymbol=s.IataCode,a.destinationName=s.Name,t.push(a)}n.setState({flights:t})})).catch((function(e){console.log(e)}))}},{key:"createSuggestions",value:function(e){var t=this;fetch("https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/autosuggest/v1.0/US/USD/en-US/?query=".concat(e),{method:"GET",headers:{"x-rapidapi-key":"2cb41ceb4bmsh64790deead62888p18e177jsn0e5c901f9ff5","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com",useQueryString:!0}}).then((function(e){return e.json()})).then((function(e){for(var n=[],r=e.Places,a=0;a<r.length;a++)n[a]=r[a].PlaceName+" ("+r[a].PlaceId+")";t.setState({airportNames:n})})).catch((function(e){console.log(e)}))}},{key:"createCurrency",value:function(){fetch("https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/reference/v1.0/currencies",{method:"GET",headers:{"x-rapidapi-key":"2cb41ceb4bmsh64790deead62888p18e177jsn0e5c901f9ff5","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com"}}).then((function(e){return e.json()})).then((function(e){T=e.Currencies})).catch((function(e){console.error(e)}))}},{key:"suggestCurrency",value:function(e){for(var t=[],n=0;n<T.length;n++){var r=T[n];if(r.Code.includes(e.toUpperCase())&&t.push(r.Code),t.length>8)break}console.log(t),this.setState({currencyArr:t})}},{key:"render",value:function(){var e=this;return Object(D.jsx)(g.a,{theme:L,full:!0,children:Object(D.jsx)(j.a.Consumer,{children:function(t){return Object(D.jsxs)(h.a,{fill:!0,children:[Object(D.jsxs)(F,{children:[Object(D.jsx)(f.a,{level:"3",margin:"none",children:"Flight-Saver"}),Object(D.jsx)(m.a,{color:"light-1",label:e.state.currency,onClick:function(){e.setState({showSidebar:!e.state.showSidebar})}})]}),Object(D.jsxs)(h.a,{direction:"row",alignSelf:"center",flex:!0,overflow:{horizontal:"hidden"},children:[Object(D.jsxs)(h.a,{alignSelf:"start",justify:"center",direction:"column",margin:"medium",children:[Object(D.jsx)(h.a,{justify:"stretch",children:Object(D.jsx)(p.a,{value:e.state.value,onChange:function(t){e.state.originVal!==t.originplace?e.createSuggestions(t.originplace):e.createSuggestions(t.destinationplace),e.setState({value:t,originVal:t.originplace})},onReset:function(t){e.setState({value:U,flights:[]})},onSubmit:function(t){e.create(t.value,e.state.currency)},children:Object(D.jsxs)(h.a,{direction:"row",gap:"medium",children:[Object(D.jsx)(y.a,{label:"Leaving from",name:"originplace",required:!0,children:Object(D.jsx)(x.a,{name:"originplace",suggestions:e.state.airportNames})}),Object(D.jsx)(y.a,{label:"Going to",name:"destinationplace",required:!0,children:Object(D.jsx)(x.a,{name:"destinationplace",suggestions:e.state.airportNames})}),Object(D.jsx)(y.a,{name:"outbound",label:"Departing",required:!0,children:Object(D.jsx)(O.a,{format:"mm/dd/yyyy",label:"Departing",name:"outbound"})}),Object(D.jsx)(y.a,{name:"inbound",label:"Returning",children:Object(D.jsx)(O.a,{format:"mm/dd/yyyy",label:"Returning",name:"inbound"})}),Object(D.jsxs)(h.a,{alignSelf:"center",children:[Object(D.jsx)(m.a,{type:"submit",label:"Search",primary:!0,margin:"xsmall"}),Object(D.jsx)(m.a,{type:"reset",label:"Reset",margin:"xsmall"})]})]})})}),Object(D.jsx)(h.a,{overflow:"auto",margin:"medium",fill:"vertical",children:Object(D.jsx)(v.a,{items:e.state.flights,children:function(t){return Object(D.jsx)(h.a,{justify:"center",direction:"row",margin:"small",flex:!1,children:Object(D.jsxs)(S.a,{height:"xsmall",fill:"horizontal",basis:"2/3",background:"light-1",pad:"small",children:[Object(D.jsxs)(C.a,{fill:"horizontal",children:[Object(D.jsx)(k.a,{size:"xlarge",color:"neutral-3",children:t.carrier}),Object(D.jsxs)(k.a,{size:"2xl",weight:"bold",children:[e.state.currencySymbol,t.price]})]}),Object(D.jsx)(w.a,{children:Object(D.jsxs)(k.a,{weight:"bold",size:"small",children:[t.originName," (",t.originSymbol,") ",Object(D.jsx)(P.a,{})," ",t.destinationName," (",t.destinationSymbol,")"]})})]})})}})})]}),e.state.showSidebar&&"small"===t?Object(D.jsxs)(N.a,{children:[Object(D.jsx)(h.a,{background:"light-2",tag:"header",justify:"end",align:"center",direction:"row",children:Object(D.jsx)(m.a,{icon:Object(D.jsx)(z.a,{}),onClick:function(){return e.setState({showSidebar:!1})}})}),Object(D.jsx)(h.a,{fill:!0,background:"light-2",align:"center",justify:"center",children:"sidebar"})]}):Object(D.jsx)(I.a,{direction:"horizontal",open:e.state.showSidebar,children:Object(D.jsx)(h.a,{flex:!0,width:"medium",background:"light-2",elevation:"small",align:"center",justify:"center",direction:"column",children:Object(D.jsxs)(p.a,{value:e.state.value2,onChange:function(t){e.suggestCurrency(t.currency),e.setState({value2:t})},onSubmit:function(t){var n=T.find((function(e){return e.Code===t.value.currency.toUpperCase()})),r="Select Currency ("+n.Code+")";e.setState({value2:{currency:""},currency:n.Code,currencySymbol:n.Symbol,currencyFormLabel:r,showSidebar:!1}),e.create(e.state.value,n.Code)},children:[Object(D.jsx)(y.a,{label:e.state.currencyFormLabel,name:"currency",required:!0,children:Object(D.jsx)(x.a,{name:"currency",suggestions:e.state.currencyArr})}),Object(D.jsx)(h.a,{alignSelf:"center",children:Object(D.jsx)(m.a,{type:"submit",label:"Enter",primary:!0,margin:"xsmall"})})]})})})]})]})}})})}}]),n}(a.a.Component),q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,112)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(D.jsx)(a.a.StrictMode,{children:Object(D.jsx)(Q,{})}),document.getElementById("root")),q()}},[[71,1,2]]]);
//# sourceMappingURL=main.fb2b4ceb.chunk.js.map